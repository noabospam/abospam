This repository is available via

  git clone https://github.com/noabospam/abospam.git

It can be updated via

  git pull https://github.com/noabospam/abospam.git

In addition to LICENSE.txt and this README.txt it contains the following
files:

1. banlist

The list of patterns that hopefully ban the spam subscriptions to
various lists all around the world.

Each pattern ends with '(ABOSPAM)?' that indicates that the pattern
is from this project.

This file is generated by mk_banlist.sh from banlist.in (see below), to
the ease of the people who don't want to/can't run this process it is
maintained here.

2. update_banlist.py

This file updates the ban_list of a specific list with help of
mailman's withlist command.

"Bring" it into a location in sys.path, mailman's bin directory seems to be
a reasonable place, at least on Debian 8 "Jessie" this should work:

  ln -s $(pwd)/update_banlist.py /usr/lib/mailman/bin/

After this you can start it via withlist:

  withlist --lock --quiet --run update_banlist <listname> <banlist file>

To let it operate on all the mailing lists on your server you can run it as:

  withlist --lock --quiet --run update_banlist --all <banlist file>

3. banlist.in

This is the source for the patterns in banlist. It contains the offending
addresses, without the +... in the local part. Addresses here can contain
patterns like (address1|address2).

4. mk_banlist.sh

Takes banlist.in and generates banlist, in particular do the following
operations on every line:

- lowercase
- prepend a ^
- append $(ABOSPAM)?
- append (\+[a-z0-9]+)? to local part
- substitute . by \.

Run it as

./mk_banlist.sh < banlist.in > banlist
